schema {
  query: Query
  mutation: Mutations
}

type Amenities {
  balcony: String
  garden: String
  parking: String
}

type Author {
  name: String
  type: String
}

type Avability {
  avability: String
  maximumTerm: String
  minimumTerm: String
}

type Bot {
  _id: String
  url: String
  title: String
  price: String
  phoneNumber: String
  disabled: Boolean
  submited: Boolean
  location: Location
  author: Author
  preferences: Preferences
  avability: Avability
  amenities: Amenities
  submitedBy: String
  createdAt: String
  updatedAt: String
  replies: [Reply]
}

type Listing {
  id: String
  availableFrom: Float
  availableTo: Float
  createdAt: Float
  leakage: Boolean
  location: String
  nonResponsive: Boolean
  postcode: String
  title: String
  weeklyRent: Int
  photos: [Photo]
  user: User
}

type Location {
  postcode: String
  area: String
}

type Mutations {
  updateHostStatus(input: UpdateHostStatusInput!): UpdateHostStatusPayload
  updateAdvertStatus(input: UpdateAdvertStatusInput!): UpdateAdvertStatusPayload
  sendMessage(input: SendMessageInput!): SendMessagePayload
}

type Notification {
  numberOfUnread: Int
}

type PhoneVerification {
  contactNumber: String
}

type Photo {
  s3Link: String
}

type Preferences {
  couples: String
  gender: String
}

type Query {
  query: Query
  adverts(submited: Boolean): [Bot]
  advertById(id: String): Bot
  listings(lng: Float, lat: Float, radius: Int, startDateInNextDays: Int, listed: Boolean, sortBy: String, direction: String): [Listing]
  notificationById(id: String, token: String): Notification
  users(token: String): [User]
  userById(id: String, token: String): User
}

type Reply {
  _id: String
  from: String
  thread: String
  message: String
  createdAt: String
}

input SendMessageInput {
  id: String
  clientMutationId: String
}

type SendMessagePayload {
  advert: Bot
  clientMutationId: String
}

input UpdateAdvertStatusInput {
  id: String
  disabled: Boolean
  submited: Boolean
  clientMutationId: String
}

type UpdateAdvertStatusPayload {
  advert: Bot
  clientMutationId: String
}

input UpdateHostStatusInput {
  id: String
  leakage: Boolean
  nonResponsive: Boolean
  clientMutationId: String
}

type UpdateHostStatusPayload {
  listing: Listing
  clientMutationId: String
}

type User {
  id: String
  avatar: String
  email: String
  firstName: String
  lastName: String
  lastLoggedInAt: Float
  phoneVerification: PhoneVerification
  notifications: Notification
}
